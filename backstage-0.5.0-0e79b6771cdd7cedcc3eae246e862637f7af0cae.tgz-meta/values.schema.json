{
    "$schema": "http://json-schema.org/schema#",
    "type": "object",
    "properties": {
        "backstage": {
            "title": "Backstage parameters",
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "appConfig": {
                    "title": "Generates ConfigMap and configures it in the Backstage pods",
                    "type": [
                        "object",
                        "string"
                    ],
                    "default": {},
                    "examples": [
                        {
                            "app": {
                                "baseUrl": "https://somedomain.tld"
                            }
                        }
                    ]
                },
                "args": {
                    "title": "Backstage container command arguments",
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "default": []
                },
                "command": {
                    "title": "Backstage container command",
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "default": [
                        "node",
                        "packages/backend"
                    ]
                },
                "extraAppConfig": {
                    "title": "Extra app configuration files to inline into command arguments",
                    "type": "array",
                    "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "filename": {
                                "type": "string"
                            },
                            "configMapRef": {
                                "type": "string"
                            }
                        }
                    },
                    "default": []
                },
                "installDir": {
                    "title": "Directory containing the backstage installation",
                    "type": "string",
                    "default": "/app"
                }
            }
        },
        "catalogLocationUrl": {
            "type": "string"
        },
        "circleci": {
            "type": "object",
            "properties": {
                "apiToken": {
                    "type": "string"
                }
            }
        },
        "diagnosticMode": {
            "title": "Enable diagnostic mode in the Deployment",
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "enabled": {
                    "title": "Enable diagnostic mode",
                    "description": "All probes will be disabled and the command will be overridden",
                    "type": "boolean",
                    "default": false
                },
                "command": {
                    "title": "Command to override all containers in the Deployment",
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "default": [
                        "sleep"
                    ]
                },
                "args": {
                    "title": "Args to override all containers in the Deployment",
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "default": [
                        "infinity"
                    ]
                }
            }
        },
        "githubAppCredentials": {
            "type": "string"
        },
        "githubAuthCredentials": {
            "type": "object",
            "properties": {
                "clientID": {
                    "type": "string"
                },
                "clientSecret": {
                    "type": "string"
                }
            }
        },
        "grafana": {
            "type": "object",
            "properties": {
                "apiToken": {
                    "type": "string"
                }
            }
        },
        "groupID": {
            "type": "integer"
        },
        "hostnames": {
            "type": "array"
        },
        "image": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "repository": {
                    "type": "string"
                }
            }
        },
        "name": {
            "type": "string"
        },
        "namespace": {
            "type": "string"
        },
        "nodeSelector": {
            "type": "object"
        },
        "port": {
            "type": "integer"
        },
        "registry": {
            "type": "object",
            "properties": {
                "domain": {
                    "type": "string"
                }
            }
        },
        "sentry": {
            "type": "object",
            "properties": {
                "app": {
                    "type": "object",
                    "properties": {
                        "dsn": {
                            "type": "string"
                        }
                    }
                },
                "backend": {
                    "type": "object",
                    "properties": {
                        "dsn": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "userID": {
            "type": "integer"
        }
    }
}
